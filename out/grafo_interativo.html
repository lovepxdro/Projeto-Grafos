
<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Grafo Interativo Recife</title>
    <script type="text/javascript" src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <style>
        body, html { margin: 0; padding: 0; width: 100%; height: 100%; overflow: hidden; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: #f0f2f5; }
        #mynetwork { width: 100%; height: 100%; }
        
        /* Painel de Controles */
        #panel {
            position: absolute; top: 20px; right: 20px; z-index: 10;
            background: rgba(255, 255, 255, 0.95);
            padding: 20px; border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.15);
            width: 280px;
        }
        h3 { margin-top: 0; color: #333; font-size: 18px; }
        p { font-size: 13px; color: #666; line-height: 1.5; }
        
        button {
            width: 100%; padding: 10px; margin-top: 8px;
            border: none; border-radius: 6px; cursor: pointer;
            font-weight: 600; transition: 0.2s;
        }
        #btn-rota { background-color: #FF5733; color: white; }
        #btn-rota:hover { background-color: #E64A19; }
        
        #btn-reset { background-color: #2196F3; color: white; margin-top: 15px; }
        #btn-reset:hover { background-color: #1976D2; }

        select { width: 100%; padding: 8px; border-radius: 4px; border: 1px solid #ccc; margin-bottom: 10px; }
    </style>
</head>
<body>

<div id="panel">
    <h3>Controles do Grafo</h3>
    
    <select id="searchNode" onchange="selectFromDropdown(this.value)">
        <option value="">üîç Buscar Bairro...</option>
    </select>

    <p>
        <b>Modo de Sele√ß√£o:</b><br>
        ‚Ä¢ Clique em um bairro para destac√°-lo.<br>
        ‚Ä¢ O restante ficar√° cinza.<br>
        ‚Ä¢ Use Ctrl+Clique (ou clique sequencial) para selecionar m√∫ltiplos.
    </p>

    <button id="btn-rota" onclick="showRoute()">üöÄ Rota: N. Descoberta ‚ûî Set√∫bal</button>
    <button id="btn-reset" onclick="resetAll()">üëÅÔ∏è Mostrar Todos (Reset)</button>
</div>

<div id="mynetwork"></div>

<script type="text/javascript">
    // --- DADOS VINDOS DO PYTHON ---
    const nodesArray = [{"id": "Recife", "label": "Recife", "title": "<b>Recife</b><br>Microrregi√£o: 1.1<br>Grau: 3", "group": "1.1", "value": 24.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "Santo Amaro", "label": "Santo Amaro", "title": "<b>Santo Amaro</b><br>Microrregi√£o: 1.1<br>Grau: 7", "group": "1.1", "value": 36.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "Boa Vista", "label": "Boa Vista", "title": "<b>Boa Vista</b><br>Microrregi√£o: 1.2<br>Grau: 9", "group": "1.2", "value": 42.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "Cabanga", "label": "Cabanga", "title": "<b>Cabanga</b><br>Microrregi√£o: 1.2<br>Grau: 3", "group": "1.2", "value": 24.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "Ilha do Leite", "label": "Ilha do Leite", "title": "<b>Ilha do Leite</b><br>Microrregi√£o: 1.2<br>Grau: 4", "group": "1.2", "value": 27.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "Paissandu", "label": "Paissandu", "title": "<b>Paissandu</b><br>Microrregi√£o: 1.2<br>Grau: 6", "group": "1.2", "value": 33.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "Santo Ant√¥nio", "label": "Santo Ant√¥nio", "title": "<b>Santo Ant√¥nio</b><br>Microrregi√£o: 1.2<br>Grau: 5", "group": "1.2", "value": 30.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "Soledade", "label": "Soledade", "title": "<b>Soledade</b><br>Microrregi√£o: 1.2<br>Grau: 2", "group": "1.2", "value": 21.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "S√£o Jos√©", "label": "S√£o Jos√©", "title": "<b>S√£o Jos√©</b><br>Microrregi√£o: 1.2<br>Grau: 5", "group": "1.2", "value": 30.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "Coelhos", "label": "Coelhos", "title": "<b>Coelhos</b><br>Microrregi√£o: 1.3<br>Grau: 5", "group": "1.3", "value": 30.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "Ilha Joana Bezerra", "label": "Ilha Joana Bezerra", "title": "<b>Ilha Joana Bezerra</b><br>Microrregi√£o: 1.3<br>Grau: 6", "group": "1.3", "value": 33.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "Arruda", "label": "Arruda", "title": "<b>Arruda</b><br>Microrregi√£o: 2.1<br>Grau: 8", "group": "2.1", "value": 39.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "Campina do Barreto", "label": "Campina do Barreto", "title": "<b>Campina do Barreto</b><br>Microrregi√£o: 2.1<br>Grau: 5", "group": "2.1", "value": 30.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "Campo Grande", "label": "Campo Grande", "title": "<b>Campo Grande</b><br>Microrregi√£o: 2.1<br>Grau: 6", "group": "2.1", "value": 33.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "Encruzilhada", "label": "Encruzilhada", "title": "<b>Encruzilhada</b><br>Microrregi√£o: 2.1<br>Grau: 8", "group": "2.1", "value": 39.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "Hip√≥dromo", "label": "Hip√≥dromo", "title": "<b>Hip√≥dromo</b><br>Microrregi√£o: 2.1<br>Grau: 3", "group": "2.1", "value": 24.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "Peixinhos", "label": "Peixinhos", "title": "<b>Peixinhos</b><br>Microrregi√£o: 2.1<br>Grau: 2", "group": "2.1", "value": 21.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "Ponto de Parada", "label": "Ponto de Parada", "title": "<b>Ponto de Parada</b><br>Microrregi√£o: 2.1<br>Grau: 6", "group": "2.1", "value": 33.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "Rosarinho", "label": "Rosarinho", "title": "<b>Rosarinho</b><br>Microrregi√£o: 2.1<br>Grau: 5", "group": "2.1", "value": 30.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "Torre√£o", "label": "Torre√£o", "title": "<b>Torre√£o</b><br>Microrregi√£o: 2.1<br>Grau: 4", "group": "2.1", "value": 27.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "Alto Santa Teresinha", "label": "Alto Santa Teresinha", "title": "<b>Alto Santa Teresinha</b><br>Microrregi√£o: 2.2<br>Grau: 6", "group": "2.2", "value": 33.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "Beberibe", "label": "Beberibe", "title": "<b>Beberibe</b><br>Microrregi√£o: 2.2<br>Grau: 4", "group": "2.2", "value": 27.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "Bomba do Hemet√©rio", "label": "Bomba do Hemet√©rio", "title": "<b>Bomba do Hemet√©rio</b><br>Microrregi√£o: 2.2<br>Grau: 5", "group": "2.2", "value": 30.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "Cajueiro", "label": "Cajueiro", "title": "<b>Cajueiro</b><br>Microrregi√£o: 2.2<br>Grau: 3", "group": "2.2", "value": 24.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "Dois Unidos", "label": "Dois Unidos", "title": "<b>Dois Unidos</b><br>Microrregi√£o: 2.2<br>Grau: 4", "group": "2.2", "value": 27.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "Fund√£o", "label": "Fund√£o", "title": "<b>Fund√£o</b><br>Microrregi√£o: 2.2<br>Grau: 4", "group": "2.2", "value": 27.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "Linha do Tiro", "label": "Linha do Tiro", "title": "<b>Linha do Tiro</b><br>Microrregi√£o: 2.2<br>Grau: 6", "group": "2.2", "value": 33.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "Porto da Madeira", "label": "Porto da Madeira", "title": "<b>Porto da Madeira</b><br>Microrregi√£o: 2.2<br>Grau: 4", "group": "2.2", "value": 27.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "√Ågua Fria", "label": "√Ågua Fria", "title": "<b>√Ågua Fria</b><br>Microrregi√£o: 2.2<br>Grau: 8", "group": "2.2", "value": 39.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "Aflitos", "label": "Aflitos", "title": "<b>Aflitos</b><br>Microrregi√£o: 3.1<br>Grau: 4", "group": "3.1", "value": 27.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "Alto do Mandu", "label": "Alto do Mandu", "title": "<b>Alto do Mandu</b><br>Microrregi√£o: 3.1<br>Grau: 4", "group": "3.1", "value": 27.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "Apipucos", "label": "Apipucos", "title": "<b>Apipucos</b><br>Microrregi√£o: 3.1<br>Grau: 6", "group": "3.1", "value": 33.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "Casa Amarela", "label": "Casa Amarela", "title": "<b>Casa Amarela</b><br>Microrregi√£o: 3.1<br>Grau: 10", "group": "3.1", "value": 45.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "Casa Forte", "label": "Casa Forte", "title": "<b>Casa Forte</b><br>Microrregi√£o: 3.1<br>Grau: 4", "group": "3.1", "value": 27.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "Derby", "label": "Derby", "title": "<b>Derby</b><br>Microrregi√£o: 3.1<br>Grau: 5", "group": "3.1", "value": 30.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "Dois Irm√£os", "label": "Dois Irm√£os", "title": "<b>Dois Irm√£os</b><br>Microrregi√£o: 3.1<br>Grau: 5", "group": "3.1", "value": 30.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "Espinheiro", "label": "Espinheiro", "title": "<b>Espinheiro</b><br>Microrregi√£o: 3.1<br>Grau: 6", "group": "3.1", "value": 33.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "Gra√ßas", "label": "Gra√ßas", "title": "<b>Gra√ßas</b><br>Microrregi√£o: 3.1<br>Grau: 10", "group": "3.1", "value": 45.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "Jaqueira", "label": "Jaqueira", "title": "<b>Jaqueira</b><br>Microrregi√£o: 3.1<br>Grau: 5", "group": "3.1", "value": 30.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "Monteiro", "label": "Monteiro", "title": "<b>Monteiro</b><br>Microrregi√£o: 3.1<br>Grau: 4", "group": "3.1", "value": 27.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "Parnamirim", "label": "Parnamirim", "title": "<b>Parnamirim</b><br>Microrregi√£o: 3.1<br>Grau: 5", "group": "3.1", "value": 30.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "Po√ßo", "label": "Po√ßo", "title": "<b>Po√ßo</b><br>Microrregi√£o: 3.1<br>Grau: 4", "group": "3.1", "value": 27.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "Santana", "label": "Santana", "title": "<b>Santana</b><br>Microrregi√£o: 3.1<br>Grau: 4", "group": "3.1", "value": 27.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "S√≠tio dos Pintos", "label": "S√≠tio dos Pintos", "title": "<b>S√≠tio dos Pintos</b><br>Microrregi√£o: 3.1<br>Grau: 1", "group": "3.1", "value": 18.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "Tamarineira", "label": "Tamarineira", "title": "<b>Tamarineira</b><br>Microrregi√£o: 3.1<br>Grau: 9", "group": "3.1", "value": 42.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "Alto Jos√© Bonif√°cio", "label": "Alto Jos√© Bonif√°cio", "title": "<b>Alto Jos√© Bonif√°cio</b><br>Microrregi√£o: 3.2<br>Grau: 6", "group": "3.2", "value": 33.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "Alto Jos√© do Pinho", "label": "Alto Jos√© do Pinho", "title": "<b>Alto Jos√© do Pinho</b><br>Microrregi√£o: 3.2<br>Grau: 7", "group": "3.2", "value": 36.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "Mangabeira", "label": "Mangabeira", "title": "<b>Mangabeira</b><br>Microrregi√£o: 3.2<br>Grau: 4", "group": "3.2", "value": 27.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "Morro da Concei√ß√£o", "label": "Morro da Concei√ß√£o", "title": "<b>Morro da Concei√ß√£o</b><br>Microrregi√£o: 3.2<br>Grau: 5", "group": "3.2", "value": 30.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "Vasco da Gama", "label": "Vasco da Gama", "title": "<b>Vasco da Gama</b><br>Microrregi√£o: 3.2<br>Grau: 5", "group": "3.2", "value": 30.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "Brejo da Guabiraba", "label": "Brejo da Guabiraba", "title": "<b>Brejo da Guabiraba</b><br>Microrregi√£o: 3.3<br>Grau: 5", "group": "3.3", "value": 30.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "Brejo de Beberibe", "label": "Brejo de Beberibe", "title": "<b>Brejo de Beberibe</b><br>Microrregi√£o: 3.3<br>Grau: 7", "group": "3.3", "value": 36.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "C√≥rrego do Jenipapo", "label": "C√≥rrego do Jenipapo", "title": "<b>C√≥rrego do Jenipapo</b><br>Microrregi√£o: 3.3<br>Grau: 6", "group": "3.3", "value": 33.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "Guabiraba", "label": "Guabiraba", "title": "<b>Guabiraba</b><br>Microrregi√£o: 3.3<br>Grau: 5", "group": "3.3", "value": 30.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "Macaxeira", "label": "Macaxeira", "title": "<b>Macaxeira</b><br>Microrregi√£o: 3.3<br>Grau: 3", "group": "3.3", "value": 24.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "Nova Descoberta", "label": "Nova Descoberta", "title": "<b>Nova Descoberta</b><br>Microrregi√£o: 3.3<br>Grau: 7", "group": "3.3", "value": 36.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "Passarinho", "label": "Passarinho", "title": "<b>Passarinho</b><br>Microrregi√£o: 3.3<br>Grau: 4", "group": "3.3", "value": 27.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "Pau-Ferro", "label": "Pau-Ferro", "title": "<b>Pau-Ferro</b><br>Microrregi√£o: 3.3<br>Grau: 1", "group": "3.3", "value": 18.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "Cordeiro", "label": "Cordeiro", "title": "<b>Cordeiro</b><br>Microrregi√£o: 4.1<br>Grau: 7", "group": "4.1", "value": 36.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "Ilha do Retiro", "label": "Ilha do Retiro", "title": "<b>Ilha do Retiro</b><br>Microrregi√£o: 4.1<br>Grau: 6", "group": "4.1", "value": 33.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "Iputinga", "label": "Iputinga", "title": "<b>Iputinga</b><br>Microrregi√£o: 4.1<br>Grau: 5", "group": "4.1", "value": 30.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "Madalena", "label": "Madalena", "title": "<b>Madalena</b><br>Microrregi√£o: 4.1<br>Grau: 7", "group": "4.1", "value": 36.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "Prado", "label": "Prado", "title": "<b>Prado</b><br>Microrregi√£o: 4.1<br>Grau: 7", "group": "4.1", "value": 36.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "Torre", "label": "Torre", "title": "<b>Torre</b><br>Microrregi√£o: 4.1<br>Grau: 5", "group": "4.1", "value": 30.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "Zumbi", "label": "Zumbi", "title": "<b>Zumbi</b><br>Microrregi√£o: 4.1<br>Grau: 4", "group": "4.1", "value": 27.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "Engenho do Meio", "label": "Engenho do Meio", "title": "<b>Engenho do Meio</b><br>Microrregi√£o: 4.2<br>Grau: 4", "group": "4.2", "value": 27.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "Torr√µes", "label": "Torr√µes", "title": "<b>Torr√µes</b><br>Microrregi√£o: 4.2<br>Grau: 3", "group": "4.2", "value": 24.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "Caxang√°", "label": "Caxang√°", "title": "<b>Caxang√°</b><br>Microrregi√£o: 4.3<br>Grau: 4", "group": "4.3", "value": 27.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "Cidade Universit√°ria", "label": "Cidade Universit√°ria", "title": "<b>Cidade Universit√°ria</b><br>Microrregi√£o: 4.3<br>Grau: 4", "group": "4.3", "value": 27.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "V√°rzea", "label": "V√°rzea", "title": "<b>V√°rzea</b><br>Microrregi√£o: 4.3<br>Grau: 3", "group": "4.3", "value": 24.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "Afogados", "label": "Afogados", "title": "<b>Afogados</b><br>Microrregi√£o: 5.1<br>Grau: 9", "group": "5.1", "value": 42.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "Bongi", "label": "Bongi", "title": "<b>Bongi</b><br>Microrregi√£o: 5.1<br>Grau: 4", "group": "5.1", "value": 27.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "Mangueira", "label": "Mangueira", "title": "<b>Mangueira</b><br>Microrregi√£o: 5.1<br>Grau: 4", "group": "5.1", "value": 27.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "Mustardinha", "label": "Mustardinha", "title": "<b>Mustardinha</b><br>Microrregi√£o: 5.1<br>Grau: 4", "group": "5.1", "value": 27.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "San Martin", "label": "San Martin", "title": "<b>San Martin</b><br>Microrregi√£o: 5.1<br>Grau: 9", "group": "5.1", "value": 42.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "Areias", "label": "Areias", "title": "<b>Areias</b><br>Microrregi√£o: 5.2<br>Grau: 5", "group": "5.2", "value": 30.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "Ca√ßote", "label": "Ca√ßote", "title": "<b>Ca√ßote</b><br>Microrregi√£o: 5.2<br>Grau: 1", "group": "5.2", "value": 18.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "Est√¢ncia", "label": "Est√¢ncia", "title": "<b>Est√¢ncia</b><br>Microrregi√£o: 5.2<br>Grau: 3", "group": "5.2", "value": 24.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "Jiqui√°", "label": "Jiqui√°", "title": "<b>Jiqui√°</b><br>Microrregi√£o: 5.2<br>Grau: 5", "group": "5.2", "value": 30.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "Barro", "label": "Barro", "title": "<b>Barro</b><br>Microrregi√£o: 5.3<br>Grau: 4", "group": "5.3", "value": 27.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "Coqueiral", "label": "Coqueiral", "title": "<b>Coqueiral</b><br>Microrregi√£o: 5.3<br>Grau: 3", "group": "5.3", "value": 24.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "Curado", "label": "Curado", "title": "<b>Curado</b><br>Microrregi√£o: 5.3<br>Grau: 4", "group": "5.3", "value": 27.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "Jardim S√£o Paulo", "label": "Jardim S√£o Paulo", "title": "<b>Jardim S√£o Paulo</b><br>Microrregi√£o: 5.3<br>Grau: 6", "group": "5.3", "value": 33.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "Sancho", "label": "Sancho", "title": "<b>Sancho</b><br>Microrregi√£o: 5.3<br>Grau: 3", "group": "5.3", "value": 24.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "Tejipi√≥", "label": "Tejipi√≥", "title": "<b>Tejipi√≥</b><br>Microrregi√£o: 5.3<br>Grau: 4", "group": "5.3", "value": 27.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "Tot√≥", "label": "Tot√≥", "title": "<b>Tot√≥</b><br>Microrregi√£o: 5.3<br>Grau: 3", "group": "5.3", "value": 24.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "Boa Viagem", "label": "Boa Viagem", "title": "<b>Boa Viagem</b><br>Microrregi√£o: 6.1<br>Grau: 3", "group": "6.1", "value": 24.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "Bras√≠lia Teimosa", "label": "Bras√≠lia Teimosa", "title": "<b>Bras√≠lia Teimosa</b><br>Microrregi√£o: 6.1<br>Grau: 1", "group": "6.1", "value": 18.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "Imbiribeira", "label": "Imbiribeira", "title": "<b>Imbiribeira</b><br>Microrregi√£o: 6.1<br>Grau: 4", "group": "6.1", "value": 27.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "Ipsep", "label": "Ipsep", "title": "<b>Ipsep</b><br>Microrregi√£o: 6.1<br>Grau: 2", "group": "6.1", "value": 21.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "Pina", "label": "Pina", "title": "<b>Pina</b><br>Microrregi√£o: 6.1<br>Grau: 3", "group": "6.1", "value": 24.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "Ibura", "label": "Ibura", "title": "<b>Ibura</b><br>Microrregi√£o: 6.2<br>Grau: 3", "group": "6.2", "value": 24.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "Jord√£o", "label": "Jord√£o", "title": "<b>Jord√£o</b><br>Microrregi√£o: 6.2<br>Grau: 3", "group": "6.2", "value": 24.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}, {"id": "Cohab", "label": "Cohab", "title": "<b>Cohab</b><br>Microrregi√£o: 6.3<br>Grau: 2", "group": "6.3", "value": 21.0, "font": {"size": 16, "strokeWidth": 2, "strokeColor": "#ffffff"}}];
    const edgesArray = [{"from": "Recife", "to": "Santo Amaro", "title": "Via: p. do limoeiro<br>Peso: 2.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Recife", "to": "Santo Ant√¥nio", "title": "Via: p. mauricio de nassau<br>Peso: 2.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Recife", "to": "S√£o Jos√©", "title": "Via: p. giratoria <br>Peso: 2.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Santo Amaro", "to": "Santo Ant√¥nio", "title": "Via: p. princesa isabel<br>Peso: 2.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Santo Amaro", "to": "Boa Vista", "title": "Via: r. da saudade <br>Peso: 1.2", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Santo Amaro", "to": "Soledade", "title": "Via: r. bispo cardoso ayres<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Santo Amaro", "to": "Espinheiro", "title": "Via: av. norte<br>Peso: 2.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Santo Amaro", "to": "Torre√£o", "title": "Via: r. othon para√≠so<br>Peso: 1.2", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Santo Amaro", "to": "Campo Grande", "title": "Via: r.dr jaime da fonte<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Boa Vista", "to": "Santo Ant√¥nio", "title": "Via: p. da boa vista<br>Peso: 2.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Boa Vista", "to": "Coelhos", "title": "Via: r. de s√£o gon√ßalo <br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Boa Vista", "to": "Ilha do Leite", "title": "Via: r. joaquim de brito<br>Peso: 1.2", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Boa Vista", "to": "Paissandu", "title": "Via: r. general joaquim inac√≠o <br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Boa Vista", "to": "Soledade", "title": "Via: r. do progresso<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Boa Vista", "to": "Derby", "title": "Via: r. henrique dias<br>Peso: 1.2", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Boa Vista", "to": "Gra√ßas", "title": "Via: av. rui barbosa<br>Peso: 2.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Boa Vista", "to": "Espinheiro", "title": "Via: r. buenos aires<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Cabanga", "to": "Pina", "title": "Via: p. gov paulo guerra<br>Peso: 2.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Cabanga", "to": "S√£o Jos√©", "title": "Via: av. eng jos√© estelita<br>Peso: 2.2", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Cabanga", "to": "Afogados", "title": "Via: av. sul<br>Peso: 2.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Ilha do Leite", "to": "Coelhos", "title": "Via: r. francisco alves<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Ilha do Leite", "to": "Ilha Joana Bezerra", "title": "Via: av. gov agamenon magalh√£es<br>Peso: 2.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Ilha do Leite", "to": "Paissandu", "title": "Via: r. frei matias teves<br>Peso: 1.2", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Paissandu", "to": "Ilha Joana Bezerra", "title": "Via: p. jos√© barros lima<br>Peso: 2.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Paissandu", "to": "Ilha do Retiro", "title": "Via: p. prefeito lima e castro<br>Peso: 2.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Paissandu", "to": "Derby", "title": "Via: r. epaminondas de melo<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Paissandu", "to": "Madalena", "title": "Via: p. prefeito lima e castro<br>Peso: 2.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Santo Ant√¥nio", "to": "S√£o Jos√©", "title": "Via: av. dantas barreto<br>Peso: 2.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Santo Ant√¥nio", "to": "Coelhos", "title": "Via: r. jos√© mariano<br>Peso: 1.2", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "S√£o Jos√©", "to": "Coelhos", "title": "Via: p. 6 de mar√ßo<br>Peso: 2.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "S√£o Jos√©", "to": "Ilha Joana Bezerra", "title": "Via: v. papa jo√£o paulo II<br>Peso: 3.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Coelhos", "to": "Ilha Joana Bezerra", "title": "Via: p. joaquim cardoso<br>Peso: 2.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Ilha Joana Bezerra", "to": "Afogados", "title": "Via: p. sem nome<br>Peso: 2.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Ilha Joana Bezerra", "to": "Ilha do Retiro", "title": "Via: p. greg√≥rio bezerra<br>Peso: 2.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Arruda", "to": "√Ågua Fria", "title": "Via: r. da regenera√ß√£o<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Arruda", "to": "Campina do Barreto", "title": "Via: r. das mo√ßas <br>Peso: 1.2", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Arruda", "to": "Peixinhos", "title": "Via: av. professor jos√© dos anjos<br>Peso: 2.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Arruda", "to": "Campo Grande", "title": "Via: r. m√°rio sete<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Arruda", "to": "Ponto de Parada", "title": "Via: r. carneiro vilela<br>Peso: 1.2", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Arruda", "to": "Tamarineira", "title": "Via: e. velha de √°gua fria<br>Peso: 2.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Arruda", "to": "Mangabeira", "title": "Via: r. jacob<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Arruda", "to": "Bomba do Hemet√©rio", "title": "Via: r. bomba do hemet√©rio<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Campina do Barreto", "to": "Peixinhos", "title": "Via: r. passarela<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Campina do Barreto", "to": "√Ågua Fria", "title": "Via: r. da const√¢ncia<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Campina do Barreto", "to": "Fund√£o", "title": "Via: r. coronel urbano ribeiro de sena<br>Peso: 1.2", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Campina do Barreto", "to": "Cajueiro", "title": "Via: r. couto soares<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Campo Grande", "to": "Ponto de Parada", "title": "Via: r. pe. villeman<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Campo Grande", "to": "Hip√≥dromo", "title": "Via: r. carlos fernandes<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Campo Grande", "to": "Encruzilhada", "title": "Via: r. marechal deodoro<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Campo Grande", "to": "Torre√£o", "title": "Via: r. dom jo√£o costa<br>Peso: 1.2", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Encruzilhada", "to": "Ponto de Parada", "title": "Via: r. joaquim t√°vora<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Encruzilhada", "to": "Hip√≥dromo", "title": "Via: e. de bel√©m<br>Peso: 2.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Encruzilhada", "to": "Torre√£o", "title": "Via: r. padre miguelinho<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Encruzilhada", "to": "Espinheiro", "title": "Via: r. marqu√™s  do paran√°<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Encruzilhada", "to": "Aflitos", "title": "Via: r. custodia portela<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Encruzilhada", "to": "Gra√ßas", "title": "Via: r. teles junior<br>Peso: 1.2", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Encruzilhada", "to": "Rosarinho", "title": "Via: r. engenheiro sampaio<br>Peso: 1.2", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Hip√≥dromo", "to": "Ponto de Parada", "title": "Via: r. men de s√°<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Ponto de Parada", "to": "Rosarinho", "title": "Via: r. couto magalh√£es<br>Peso: 1.2", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Ponto de Parada", "to": "Tamarineira", "title": "Via: r. engenheiro magalh√£es melo<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Rosarinho", "to": "Aflitos", "title": "Via: av. santos dumont<br>Peso: 2.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Rosarinho", "to": "Gra√ßas", "title": "Via: r. desembargador martins pereira<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Rosarinho", "to": "Tamarineira", "title": "Via: r. dr jos√© maria<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Torre√£o", "to": "Espinheiro", "title": "Via: r. candido lacerda<br>Peso: 1.2", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Alto Santa Teresinha", "to": "√Ågua Fria", "title": "Via: r. grupiara<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Alto Santa Teresinha", "to": "Linha do Tiro", "title": "Via: r. professor jos√© amarino dos reis<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Alto Santa Teresinha", "to": "Bomba do Hemet√©rio", "title": "Via: r. arlindo cisneiros<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Alto Santa Teresinha", "to": "Alto Jos√© do Pinho", "title": "Via: r. s√£o sim√£o<br>Peso: 1.2", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Alto Santa Teresinha", "to": "Morro da Concei√ß√£o", "title": "Via: r. belarmino henrique<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Alto Santa Teresinha", "to": "Alto Jos√© Bonif√°cio", "title": "Via: r. alto jos√© bonifacio<br>Peso: 1.2", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Beberibe", "to": "√Ågua Fria", "title": "Via: av. an√≠bal benevolo<br>Peso: 2.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Beberibe", "to": "Porto da Madeira", "title": "Via: r. do anil<br>Peso: 1.2", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Beberibe", "to": "Linha do Tiro", "title": "Via: av. hidelbrando de vasconselos<br>Peso: 2.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Beberibe", "to": "Dois Unidos", "title": "Via: r. uriel de holanda<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Bomba do Hemet√©rio", "to": "√Ågua Fria", "title": "Via: r. s√£o sebasti√£o<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Bomba do Hemet√©rio", "to": "Mangabeira", "title": "Via: r. desembargador heraclito cavalcanti<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Bomba do Hemet√©rio", "to": "Alto Jos√© do Pinho", "title": "Via: r. do rio<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Cajueiro", "to": "Porto da Madeira", "title": "Via: av. sebasti√£o salazar<br>Peso: 2.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Cajueiro", "to": "Fund√£o", "title": "Via: r. raul ces√°rio de melo<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Dois Unidos", "to": "Linha do Tiro", "title": "Via: r. guaraj√°<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Dois Unidos", "to": "Brejo de Beberibe", "title": "Via: r. tupira√ßaba<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Dois Unidos", "to": "Passarinho", "title": "Via: r. pereira barreto<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Fund√£o", "to": "√Ågua Fria", "title": "Via: r. jornalista jos√© campelo junior<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Fund√£o", "to": "Porto da Madeira", "title": "Via: r. alto do benjamin<br>Peso: 1.2", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Linha do Tiro", "to": "√Ågua Fria", "title": "Via: r. sodrel√¢ndia<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Linha do Tiro", "to": "Alto Jos√© Bonif√°cio", "title": "Via: r. visconde de s√° bandeira<br>Peso: 1.2", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Linha do Tiro", "to": "Brejo de Beberibe", "title": "Via: av. vereador otac√≠lio de azevedo<br>Peso: 2.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Porto da Madeira", "to": "√Ågua Fria", "title": "Via: r. conselheiro barros barreto<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Aflitos", "to": "Espinheiro", "title": "Via: r. quarenta e oito<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Aflitos", "to": "Gra√ßas", "title": "Via: av. conselheiro rosa e silva<br>Peso: 2.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Alto do Mandu", "to": "Apipucos", "title": "Via: r. massaranduba<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Alto do Mandu", "to": "Monteiro", "title": "Via: av. dr eurico chaves<br>Peso: 2.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Alto do Mandu", "to": "Casa Amarela", "title": "Via: av. malac√≥<br>Peso: 2.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Alto do Mandu", "to": "Nova Descoberta", "title": "Via: r. nova descoberta<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Apipucos", "to": "Macaxeira", "title": "Via: r. dolcin√≥polis<br>Peso: 1.2", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Apipucos", "to": "Monteiro", "title": "Via: r. de apipucos<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Apipucos", "to": "Caxang√°", "title": "Via: br 101<br>Peso: 3.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Apipucos", "to": "Dois Irm√£os", "title": "Via: r. dois irm√£os<br>Peso: 1.2", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Apipucos", "to": "C√≥rrego do Jenipapo", "title": "Via: r. aj moraes<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Casa Amarela", "to": "Morro da Concei√ß√£o", "title": "Via: r. adalberto guerra<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Casa Amarela", "to": "Alto Jos√© do Pinho", "title": "Via: r. pr√≠ncipal<br>Peso: 1.2", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Casa Amarela", "to": "Tamarineira", "title": "Via: e. do arraial<br>Peso: 2.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Casa Amarela", "to": "Parnamirim", "title": "Via: e. do encanamento<br>Peso: 2.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Casa Amarela", "to": "Casa Forte", "title": "Via: e. das ubaias <br>Peso: 2.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Casa Amarela", "to": "Po√ßo", "title": "Via: r. engenheiro oscar ferreira<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Casa Amarela", "to": "Monteiro", "title": "Via: r. santa isabel<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Casa Amarela", "to": "Nova Descoberta", "title": "Via: r. paraisopolis<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Casa Amarela", "to": "Vasco da Gama", "title": "Via: r. ros√°lia cisneiros<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Casa Forte", "to": "Parnamirim", "title": "Via: av. dessesete de agosto<br>Peso: 2.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Casa Forte", "to": "Santana", "title": "Via: r. samuel de farias<br>Peso: 1.2", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Casa Forte", "to": "Po√ßo", "title": "Via: e. real do po√ßo<br>Peso: 2.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Derby", "to": "Ilha do Retiro", "title": "Via: p. prefeito lima e castro<br>Peso: 2.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Derby", "to": "Madalena", "title": "Via: p. professor moraes rego<br>Peso: 2.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Derby", "to": "Gra√ßas", "title": "Via: r. joaquim nabuco<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Dois Irm√£os", "to": "Guabiraba", "title": "Via: av. assis chateaubriand<br>Peso: 2.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Dois Irm√£os", "to": "S√≠tio dos Pintos", "title": "Via: e. dos pintos<br>Peso: 2.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Dois Irm√£os", "to": "Caxang√°", "title": "Via: r. manoel de medeiros<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Dois Irm√£os", "to": "C√≥rrego do Jenipapo", "title": "Via: r. bento de abreu<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Espinheiro", "to": "Gra√ßas", "title": "Via: r. da hora<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Gra√ßas", "to": "Madalena", "title": "Via: av beira rio<br>Peso: 2.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Gra√ßas", "to": "Torre", "title": "Via: p. da torre<br>Peso: 2.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Gra√ßas", "to": "Jaqueira", "title": "Via: av. doutor malaquias<br>Peso: 2.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Gra√ßas", "to": "Tamarineira", "title": "Via: r. coronel uriel sergio cardim<br>Peso: 1.2", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Jaqueira", "to": "Parnamirim", "title": "Via: av. parnamirim<br>Peso: 2.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Jaqueira", "to": "Tamarineira", "title": "Via: r. padre roma<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Jaqueira", "to": "Torre", "title": "Via: v. governador cordeiro farias<br>Peso: 3.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Jaqueira", "to": "Santana", "title": "Via: r. leonardo cavalcanti<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Monteiro", "to": "Po√ßo", "title": "Via: r. piau√≠<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Parnamirim", "to": "Santana", "title": "Via: r. sant'anna<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Parnamirim", "to": "Tamarineira", "title": "Via: r. tito rosas<br>Peso: 1.2", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Po√ßo", "to": "Santana", "title": "Via: r. nestor silva<br>Peso: 1.2", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Tamarineira", "to": "Mangabeira", "title": "Via: r. lind√≥ia<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Tamarineira", "to": "Alto Jos√© do Pinho", "title": "Via: r. guimar√£es peixoto<br>Peso: 1.2", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Alto Jos√© Bonif√°cio", "to": "Vasco da Gama", "title": "Via: r.alto serrinha<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Alto Jos√© Bonif√°cio", "to": "Morro da Concei√ß√£o", "title": "Via: r. c√≥rrego do bartolomeu<br>Peso: 1.2", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Alto Jos√© Bonif√°cio", "to": "Alto Jos√© do Pinho", "title": "Via: r. padre oliveira<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Alto Jos√© Bonif√°cio", "to": "Brejo de Beberibe", "title": "Via: r. corrego de euclides<br>Peso: 1.2", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Alto Jos√© do Pinho", "to": "Mangabeira", "title": "Via: r. mangabeira<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Alto Jos√© do Pinho", "to": "Morro da Concei√ß√£o", "title": "Via: l. do bartolomeu<br>Peso: 3.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Morro da Concei√ß√£o", "to": "Vasco da Gama", "title": "Via: r. de fevereiro<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Vasco da Gama", "to": "Brejo de Beberibe", "title": "Via: r. ary peter<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Vasco da Gama", "to": "Nova Descoberta", "title": "Via: r. nova esperan√ßa<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Brejo da Guabiraba", "to": "Guabiraba", "title": "Via: r. amadeu do carmo ferreira<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Brejo da Guabiraba", "to": "C√≥rrego do Jenipapo", "title": "Via: r. umirim<br>Peso: 1.2", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Brejo da Guabiraba", "to": "Nova Descoberta", "title": "Via: r. manjeiro<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Brejo da Guabiraba", "to": "Brejo de Beberibe", "title": "Via: r. teol√¢ndia<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Brejo da Guabiraba", "to": "Passarinho", "title": "Via: r. santa tereza<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Brejo de Beberibe", "to": "Passarinho", "title": "Via: r. s√≥ n√≥s dois<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Brejo de Beberibe", "to": "Nova Descoberta", "title": "Via: r. floresta azul <br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "C√≥rrego do Jenipapo", "to": "Guabiraba", "title": "Via: r. c√≥rrego da loura<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "C√≥rrego do Jenipapo", "to": "Nova Descoberta", "title": "Via: r. do alto do cruzeiro<br>Peso: 1.2", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "C√≥rrego do Jenipapo", "to": "Macaxeira", "title": "Via: r. valdemar<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Guabiraba", "to": "Pau-Ferro", "title": "Via: r. marcia lopes de melo<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Guabiraba", "to": "Passarinho", "title": "Via: e. passarinho<br>Peso: 2.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Macaxeira", "to": "Nova Descoberta", "title": "Via: r. hilda machado<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Cordeiro", "to": "Iputinga", "title": "Via: av. mario alvares pereira de lyra<br>Peso: 2.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Cordeiro", "to": "Torre", "title": "Via: r. dianopoles <br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Cordeiro", "to": "Zumbi", "title": "Via: r. ribeiro roma<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Cordeiro", "to": "Prado", "title": "Via: r. gomes taborda<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Cordeiro", "to": "San Martin", "title": "Via: av. general san martin<br>Peso: 2.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Cordeiro", "to": "Torr√µes", "title": "Via: r. maravilha<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Cordeiro", "to": "Engenho do Meio", "title": "Via: r. dr miguel vieira <br>Peso: 1.2", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Ilha do Retiro", "to": "Afogados", "title": "Via: r. teofilo tworz<br>Peso: 1.2", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Ilha do Retiro", "to": "Prado", "title": "Via: av. engenheiro abdias de carvalho<br>Peso: 2.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Ilha do Retiro", "to": "Madalena", "title": "Via: r. comendador bento aguiar<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Iputinga", "to": "Caxang√°", "title": "Via: r. ministro jo√£o alberto <br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Iputinga", "to": "Engenho do Meio", "title": "Via: r. alvaro teixeira de mesquita<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Iputinga", "to": "Cidade Universit√°ria", "title": "Via: r. costa sep√∫lveda<br>Peso: 1.2", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Iputinga", "to": "V√°rzea", "title": "Via: r. jo√£o sales menezes <br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Madalena", "to": "Zumbi", "title": "Via: r. visconde do uruguai <br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Madalena", "to": "Torre", "title": "Via: r. davino pontual<br>Peso: 1.2", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Madalena", "to": "Prado", "title": "Via: r. professor lins e silva<br>Peso: 1.2", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Prado", "to": "Zumbi", "title": "Via: r. guap√©<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Prado", "to": "Afogados", "title": "Via: r. escritor alexandre<br>Peso: 1.2", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Prado", "to": "Bongi", "title": "Via: r. doutor severino jatob√°<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Prado", "to": "San Martin", "title": "Via: av. engenheiro abdias de carvalho<br>Peso: 2.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Torre", "to": "Zumbi", "title": "Via: r. thomaz gonzaga<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Engenho do Meio", "to": "Cidade Universit√°ria", "title": "Via: r. jos√© dos santos<br>Peso: 1.2", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Engenho do Meio", "to": "Torr√µes", "title": "Via: r. carneiro de mariz<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Torr√µes", "to": "San Martin", "title": "Via: r. 21 de mar√ßo<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Caxang√°", "to": "V√°rzea", "title": "Via: r. ribeiro pessoa <br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Cidade Universit√°ria", "to": "V√°rzea", "title": "Via: r. academico h√©lio fernandes<br>Peso: 1.2", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Cidade Universit√°ria", "to": "Curado", "title": "Via: av. visconde de s√£o leopoldo<br>Peso: 2.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Afogados", "to": "Mangueira", "title": "Via: r. 21 de abril<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Afogados", "to": "Mustardinha", "title": "Via: av. mustardinha<br>Peso: 2.2", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Afogados", "to": "Bongi", "title": "Via: est. do bongi <br>Peso: 2.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Afogados", "to": "Imbiribeira", "title": "Via: r. arquiteto luiz nunes<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Afogados", "to": "Jiqui√°", "title": "Via: r. bom jardin<br>Peso: 1.2", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Bongi", "to": "San Martin", "title": "Via: r. isaac<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Bongi", "to": "Mustardinha", "title": "Via: av. manoel gon√ßalves da luz <br>Peso: 2.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Mangueira", "to": "Mustardinha", "title": "Via: r. s√£o severino<br>Peso: 1.2", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Mangueira", "to": "Jiqui√°", "title": "Via: av. central<br>Peso: 2.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Mangueira", "to": "San Martin", "title": "Via: r. mineirol√¢ndia <br>Peso: 1.2", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Mustardinha", "to": "San Martin", "title": "Via: r. queiroz de oliveira <br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "San Martin", "to": "Jardim S√£o Paulo", "title": "Via: av. recife<br>Peso: 2.2", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "San Martin", "to": "Curado", "title": "Via: r. gomes bezerra cavalcante<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "San Martin", "to": "Jiqui√°", "title": "Via: av. jo√£o cabral de melo neto<br>Peso: 2.2", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Areias", "to": "Ca√ßote", "title": "Via: r. aurora ca√ßote<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Areias", "to": "Est√¢ncia", "title": "Via: r. mearim<br>Peso: 1.2", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Areias", "to": "Jiqui√°", "title": "Via: r. √°gua comprida<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Areias", "to": "Jardim S√£o Paulo", "title": "Via: av. s√£o paulo<br>Peso: 2.2", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Areias", "to": "Barro", "title": "Via: r. rodrigues<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Est√¢ncia", "to": "Jiqui√°", "title": "Via: av. dr. jos√© rufino<br>Peso: 2.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Est√¢ncia", "to": "Jardim S√£o Paulo", "title": "Via: r. nossa senhora de f√°tima <br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Barro", "to": "Tejipi√≥", "title": "Via: r. itaenga<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Barro", "to": "Jardim S√£o Paulo", "title": "Via: r. italacy<br>Peso: 1.2", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Barro", "to": "Cohab", "title": "Via: av. 12 de junho<br>Peso: 2.2", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Coqueiral", "to": "Tot√≥", "title": "Via: r. papanduva<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Coqueiral", "to": "Sancho", "title": "Via: r. manduzinho<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Coqueiral", "to": "Tejipi√≥", "title": "Via: r. alc√¢ntara<br>Peso: 1.2", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Curado", "to": "Jardim S√£o Paulo", "title": "Via: av. piraciaba<br>Peso: 2.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Curado", "to": "Tot√≥", "title": "Via: r. utinga<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Jardim S√£o Paulo", "to": "Tejipi√≥", "title": "Via: av. liberdade<br>Peso: 2.2", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Sancho", "to": "Tot√≥", "title": "Via: r. do nascente<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Sancho", "to": "Tejipi√≥", "title": "Via: r. aprigio guimaraes<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Boa Viagem", "to": "Imbiribeira", "title": "Via: av. dom joao vi<br>Peso: 2.2", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Boa Viagem", "to": "Pina", "title": "Via: av. engenheiro domingos ferreira<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Boa Viagem", "to": "Jord√£o", "title": "Via: av. marechal mascarenhas<br>Peso: 2.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Bras√≠lia Teimosa", "to": "Pina", "title": "Via: r. francisco valpassos<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Imbiribeira", "to": "Ipsep", "title": "Via: r. rio oceanico<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Imbiribeira", "to": "Ibura", "title": "Via: av. presidente dutra<br>Peso: 2.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Ipsep", "to": "Ibura", "title": "Via: av. senador robert kennedy<br>Peso: 2.2", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Ibura", "to": "Jord√£o", "title": "Via: r. jose martorano<br>Peso: 1.0", "color": {"color": "#848484", "opacity": 0.4}}, {"from": "Jord√£o", "to": "Cohab", "title": "Via: r. uiarauna<br>Peso: 2.0", "color": {"color": "#848484", "opacity": 0.4}}];
    const routeNodes = ["Nova Descoberta", "Casa Amarela", "Tamarineira", "Gra√ßas", "Derby", "Ilha do Retiro", "Afogados", "Imbiribeira", "Boa Viagem"];

    // Inicializa DataSets
    const nodes = new vis.DataSet(nodesArray);
    const edges = new vis.DataSet(edgesArray);

    // Configura√ß√£o do Grafo
    const container = document.getElementById('mynetwork');
    const data = { nodes: nodes, edges: edges };
    const options = {
        nodes: {
            shape: 'dot',
            borderWidth: 2,
            shadow: true
        },
        edges: {
            width: 2,
            smooth: { type: 'continuous' }
        },
        physics: {
            forceAtlas2Based: {
                gravitationalConstant: -60,
                centralGravity: 0.005,
                springLength: 120,
                springConstant: 0.08
            },
            maxVelocity: 50,
            solver: 'forceAtlas2Based',
            stabilization: { enabled: true, iterations: 600 }
        },
        interaction: {
            hover: true,
            tooltipDelay: 200,
            multiselect: true,     // Permite selecionar v√°rios
            selectConnectedEdges: false // CRUCIAL: N√£o seleciona vizinhos automaticamente
        }
    };

    const network = new vis.Network(container, data, options);

    // Popula o Dropdown de busca
    const select = document.getElementById('searchNode');
    const sortedNodes = [...nodesArray].sort((a, b) => a.label.localeCompare(b.label));
    sortedNodes.forEach(n => {
        const opt = document.createElement('option');
        opt.value = n.id;
        opt.innerText = n.label;
        select.appendChild(opt);
    });

    // --- ESTADO DA SELE√á√ÉO ---
    // Usamos um Set para rastrear o que deve estar colorido
    let activeNodes = new Set();

    // --- EVENTOS ---

    // 1. Clique no Grafo
    network.on("click", function (params) {
        const clickedNode = params.nodes[0];

        if (clickedNode) {
            // Se clicou num n√≥, alterna (adiciona/remove) do conjunto ativo
            if (activeNodes.has(clickedNode)) {
                activeNodes.delete(clickedNode);
            } else {
                activeNodes.add(clickedNode);
            }
        } else {
            // Se clicou no fundo vazio, limpa tudo (Reset)
            activeNodes.clear();
        }

        updateVisuals();
    });

    // 2. Sele√ß√£o pelo Dropdown
    function selectFromDropdown(nodeId) {
        if (!nodeId) return;
        activeNodes.add(nodeId); // Adiciona o buscado √† sele√ß√£o
        updateVisuals();
        
        // Foca a c√¢mera
        network.fit({ nodes: [nodeId], animation: true });
        
        // Reseta o select para permitir buscar o mesmo novamente se quiser
        document.getElementById('searchNode').value = "";
    }

    // 3. Bot√£o Rota Especial
    function showRoute() {
        if (routeNodes.length === 0) return alert("Rota n√£o dispon√≠vel.");
        
        activeNodes.clear();
        routeNodes.forEach(id => activeNodes.add(id));
        updateVisuals();
        network.fit({ nodes: routeNodes, animation: true });
    }

    // 4. Bot√£o Reset
    function resetAll() {
        activeNodes.clear();
        updateVisuals();
        network.fit({ animation: true });
    }

    // --- L√ìGICA DE ATUALIZA√á√ÉO VISUAL (O C√âREBRO) ---
    function updateVisuals() {
        const allN = nodes.get();
        const allE = edges.get();

        // Arrays para atualiza√ß√£o em lote (performance)
        const updatesN = [];
        const updatesE = [];

        // MODO 1: Nada selecionado -> Mostra tudo colorido padr√£o
        if (activeNodes.size === 0) {
            allN.forEach(n => {
                updatesN.push({ 
                    id: n.id, 
                    color: null,  // null volta para a cor definida no grupo (microrregi√£o)
                    opacity: 1.0,
                    font: { color: '#343434' } 
                });
            });
            allE.forEach(e => {
                updatesE.push({ 
                    id: e.id, 
                    color: { color: '#848484', opacity: 0.4 }, 
                    width: 2 
                });
            });
        } 
        // MODO 2: Algo selecionado -> Isola os ativos, acinzenta o resto
        else {
            allN.forEach(n => {
                if (activeNodes.has(n.id)) {
                    // N√ì ATIVO: Cor original, opacidade total
                    updatesN.push({ 
                        id: n.id, 
                        color: null, 
                        opacity: 1.0,
                        font: { color: '#000000', background: 'rgba(255,255,255,0.7)' }
                    });
                } else {
                    // N√ì INATIVO: Cinza, transparente
                    updatesN.push({ 
                        id: n.id, 
                        color: 'rgba(200, 200, 200, 0.2)', 
                        opacity: 0.2,
                        font: { color: 'rgba(0,0,0,0)' } // Esconde texto
                    });
                }
            });

            allE.forEach(e => {
                // Aresta s√≥ aparece colorida se AMBOS os lados estiverem ativos
                if (activeNodes.has(e.from) && activeNodes.has(e.to)) {
                    updatesE.push({ 
                        id: e.id, 
                        color: { color: '#FF5733', opacity: 1.0 }, 
                        width: 4 
                    });
                } else {
                    // Aresta inativa: quase invis√≠vel
                    updatesE.push({ 
                        id: e.id, 
                        color: 'rgba(200, 200, 200, 0.05)', 
                        width: 1 
                    });
                }
            });
        }

        nodes.update(updatesN);
        edges.update(updatesE);
    }

</script>
</body>
</html>
    